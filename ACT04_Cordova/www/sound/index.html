<html>
<head>
   <script>
      // CARGA LOS SONIDOS
      fondo  = new Audio("rec/fondo.mp3")
      ranar  = new Audio('rec/ranar.mp3')
      ranav  = new Audio('rec/ranav.mp3')
      error   = new Audio('rec/no.mp3')
      drimm = new Audio('rec/drim.mp3')
      fondo.loop = true;
      fondo.play();

      // DEFINE ARREGLO INDICANDO POSICION DE RANAS Y PIEDRA
      // 0 = PIEDRA
      // 1 = RANA ROJA
      // 2 = RANA VERDE
      tb = [1, 1, 1, 0, 2, 2, 2]

      // FUNCION QUE SE EJECUTA CUANDO SE PULSA UNA RANA O LA PIEDRA
      function salta(i) {

         // COMIENZA INDICANDO QUE NO PUDO SALTAR
         pudo = 0

         // SI SE PULSO UNA RANA ROJA
         if(tb[i]==1) {

            // SI NO ES LA ULTIMA POSICION
            if(i<6 && tb[i+1]==0) {

               // APUNTA A POSICION SIGUIENTE
               j=i+1

               // COLOCA LA IMAGEN DE PIEDRA EN POSICION ACTUAL
               document.getElementById(i).src="rec/0.png"

               // COLOCA LA IMAGEN DE RANA ROJA EN POSICION SIGUIENTE
               document.getElementById(j).src="rec/1.png"

               // CAMBIA VALORES EN EL ARREGLO DE ACUERDO A ESTOS DOS CAMBIOS
               tb[i]=0
               tb[j]=1

               // PRODUCE SONIDO CROAC E INDICA QUE PUDO SALTAR
               ranar.play()
               pudo = 1
            }      

            // SI NO ES PENULTIMA POSICION, HAY RANA VERDE EN SIGUIENTE Y PIEDRA EN SUBSIGUIENTE
            if(i<5 && tb[i+1]==2 && tb[i+2]==0) {

               // APUNTA A POSICION SUBSIGUIENTE
               j=i+2

               // COLOCA PIEDRA EN POSICION ACTUAL
               document.getElementById(i).src="rec/0.png"

               // COLOCA RANA ROJA EN POSICION SUBSIGUIENTE
               document.getElementById(j).src="rec/1.png"

               //  CAMBIA VALORES EN EL ARREGLO DE ACUERDO A ESTOS DOS CAMBIOS
               tb[i]=0
               tb[j]=1

               // PRODUCE SONIDO CROAC E INDICA QUE PUDO SALTAR
               ranar.play()
               pudo = 1
            }
         }

         // LA LOGICA SIGUIENTE ES SIMILAR A LA ANTERIOR, PERO PARA RANA VERDE
         if(tb[i]==2) {
            if(i>0 && tb[i-1]==0) {
               j=i-1
               document.getElementById(i).src="rec/0.png"
               document.getElementById(j).src="rec/2.png"
               tb[i]=0
               tb[j]=2
               ranav.play()
               pudo = 1
            }
            if(i>1 && tb[i-1]==1 && tb[i-2]==0) {
               j=i-2
               document.getElementById(i).src="rec/0.png"
               document.getElementById(j).src="rec/2.png"
               tb[i]=0
               tb[j]=2
               ranav.play()
               pudo = 1
            } 
         }

         // SI NO PUDO SALTAR REPRODUCE SONIDO NOOO
         if(pudo==0) error.play()

         // PERO SI PUDO SALTAR REVISA SI LAS RANAS CAMBIARON DE LUGAR
         else {
            ok = 1
            if(   tb[0]!=2   ) ok=0
            if(   tb[1]!=2   ) ok=0
            if(   tb[2]!=2   ) ok=0
            if(   tb[3]!=0   ) ok=0
            if(   tb[4]!=1   ) ok=0
            if(   tb[5]!=1   ) ok=0
            if(   tb[6]!=1   ) ok=0

           // SI CAMBIARON REINICIA EL JUEGO
            if(ok==1) {
                drimm.play()
                p = setTimeout(reinicia, 1500)
            }
         }
      }

      // FUNCION QUE SE EJECUTA CUANDO SE LOGRA CAMBIAR LAS RANAS
      function reinicia() {

         // REPONE LA SITUACION INICIAL DE RANAS Y CONTENIDOS DEL ARREGLO
         for(i=0;i<3;i++) {
           j = i +4
           tb[i] = 1
           tb[j] = 2
           document.getElementById(i).src="rec/1.png"
           document.getElementById(j).src="rec/2.png"
         } 
         tb[3] = 0
         document.getElementById("3").src="rec/0.png"
         fondo.play()
      }
   </script>
</head>


<body>
<img src="rec/fondo.png" width=748 height=400 >
<div style="position:absolute; left:87; top:160; width:790; heigth:540">
   <img src="rec/1.png"  width=80 height=100 id="0" onClick="salta(0)">
   <img src="rec/1.png"  width=80 height=100 id="1" onClick="salta(1)">
   <img src="rec/1.png"  width=80 height=100 id="2" onClick="salta(2)">
   <img src="rec/0.png"  width=80 height=100 id="3" onClick="salta(3)">
   <img src="rec/2.png"  width=80 height=100 id="4" onClick="salta(4)">
   <img src="rec/2.png"  width=80 height=100 id="5" onClick="salta(5)">
   <img src="rec/2.png"  width=80 height=100 id="6" onClick="salta(6)">
</div>
<h4>
Al iniciar la aplicaci&oacuten se escucha sin fin el sonido <font color=blue>fondo.mp3</font>. Al pulsar en una rana se escucha el sonido   <br>
<font color=blue>no.mp3</font>&nbsp&nbspsi no puede saltar (una rana puede saltar si es vecina de la piedra vac&iacutea o si entre ella y la piedra  <br>
vacía hay s&oacutelo una rana). Al saltar se escucha el sonido&nbsp&nbsp&nbsp<font color=blue>ranav.mp3</font>&nbsp&nbspo <font color=blue>ranar.mp3</font>&nbsp&nbspseg&uacuten cual sea su color  <br><br>
Cuando la ranas rojas queden en el lugar de las verdes, y viceversa, se escuchar&aacute&nbsp&nbsp<font color=blue>drim.mp3</font>,&nbsp&nbsppero luego <br>
de una breve pausa todo regresar&aacute a la situación inicial (<font color=red>Prueba todo esto aqu&iacute, en esta p&aacutegina</font>)
</h4>
</body>
</html>